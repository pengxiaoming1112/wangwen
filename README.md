# 🌟 奥特曼空投研究院·网文矩阵系统 (Ultraman Novel Matrix)

> **核心代号：pxm_chain** > **当前版本：V5.5-Final** > **定位**：工业级全自动网文生产流水线，支持多进程矩阵化作业。

---

## 🏗️ 核心架构

本系统由四个独立且协作的智能模块组成，实现了从“灵感爆发”到“完本归档”的无人值守闭环。

### 1. 🧠 首席策划师 (`1_start_project.py`)
* **功能**：负责创意脑暴、世界观构建 (Bible)、长篇大纲拆解 (Outline)。
* **V3.2 特性**：
    * **正名仪式**：生成完毕后，自动将文件夹重命名为 `Book_书名`，去除冗余时间戳。
    * **智能防重**：若书名重复，自动保留时间戳后缀以示区分。
    * **完整收录**：支持 50 字以上的超长书名，不做截断。

### 2. ✍️ 金牌作家 (`2_writer_bot.py`)
* **功能**：负责正文撰写、剧情记忆管理、断点续传。
* **V5.5 特性**：
    * **全息数据看板**：实时显示进度条、已写字数、预估剩余时间 (ETA)。
    * **战绩结算**：完本后弹出详细统计表（总字数、平均章节字数）。
    * **人类拟态 V2**：强制去除 AI 翻译腔，注入口语化、断章技巧。
    * **自动标题**：生成的 TXT 自动注入 `第X章：[大纲标题]`，排版工整。

### 3. 🚑 档案修复师 (`3_fix_titles.py`)
* **功能**：旧书拯救工具。
* **用途**：如果你有早期生成的 TXT 缺失标题或格式混乱，运行此脚本可一键根据大纲修复所有章节头。

### 4. 📦 智能打包机 (`4_merge_book.py`)
* **功能**：负责完本后的校对、合并、归档。
* **V2.4 特性**：
    * **真名觉醒**：直接读取 `bible.txt` 获取书籍真名，修正文件夹命名。
    * **智能过滤**：自动跳过已打包 (`【已打包】_`) 的项目，只处理新书。
    * **完美排序**：解决 `1, 10, 2` 的乱序问题，合并生成 `日期_《书名》_全本.txt`。

---

## 🚀 快速启动手册

### ⚠️ 环境警告
**严禁在 iCloud 同步目录（如桌面、文档）运行！** 请务必将项目存放在 **用户主目录**（如 `~/Local_Projects/Novel_Matrix`），否则可能导致文件读取失败。

### 第一步：初始化环境
```bash
# 1. 进入目录
cd ~/Local_Projects/Novel_Matrix

# 2. 激活奥特曼虚拟环境 (必须!)
source venv/bin/activate

# 3. 安装依赖 (仅首次)
pip install openai
